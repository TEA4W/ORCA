        :root {
            --green: #4CAF50;
            --red: #D32F2F;
            --grey: #5F6368;
            --blue: #005A9C;
            --light-grey: #F5F5F5;
            --dark-grey: #202124;
        }
        * {
            box-sizing: border-box;
        }
        body {
            margin: 0;
            padding: 20px;
            font-family: 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif; /* Modernized font stack */
            background: #f7f9fc; /* Slightly lighter, cooler background */
            color: var(--dark-grey);
            display: flex; 
            justify-content: center; 
            align-items: center; 
            min-height: 100vh; 
        }
        .password-section {
            background: #fff;
            padding: 30px 40px;
            border-radius: 12px;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
            text-align: center;
            width: 100%;
            max-width: 400px;
        }
        .password-section h2 {
            margin-top: 0;
            margin-bottom: 20px;
            color: var(--dark-grey);
        }
        .password-section input[type="password"] {
            width: 100%;
            padding: 12px;
            margin-bottom: 20px;
            border: 1px solid #ced4da;
            border-radius: 6px;
            font-size: 1em;
        }
        .password-section button {
            background: var(--blue);
            color: #fff;
            padding: 12px 25px;
            border: none;
            border-radius: 6px;
            font-size: 1em;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }
        .password-section button:hover {
            background: #004080;
        }
        .password-error {
            color: var(--red);
            margin-top: 10px;
            font-size: 0.9em;
        }

        .container {
            max-width: 900px; 
            margin: 20px auto; 
            background: #fff;
            padding: 35px; /* Increased padding */
            border-radius: 12px; 
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.07); /* Softer shadow */
            display: none; 
        }
        h1 {
            text-align: center;
            margin: 0 0 30px; 
            color: var(--dark-grey);
            font-size: 2em; 
            font-weight: 600;
        }
        .row {
            display: flex;
            flex-wrap: wrap;
            gap: 20px; /* Standardized gap */
            margin-bottom: 20px; /* Standardized margin */
            align-items: flex-end; /* Align field groups by their bottom edge */
        }
        .row.options-row { 
            gap: 20px; 
            align-items: center;
        }

        .field-group { 
            display: flex;
            flex-direction: column;
            flex: 1 1 calc(50% - 10px); /* Retaining 50% basis for two-column, -10px for half of the gap */
            min-width: 150px;
            position: relative; /* Needed for absolute positioning of suggestions */
        }
        .field-group.full-width {
            flex-basis: 100%;
        }
         .field-group-inline { 
            display: flex;
            flex-direction: column;
            flex: 1 1 calc(33.333% - 10px); 
            min-width: 100px;
        }


        label {
            font-size: 0.9em; /* Slightly smaller for a cleaner look */
            display: flex;
            flex-direction: column;
            color: #4a5568; /* Softer label color */
            font-weight: 500;
            margin-bottom: 6px; /* Increased space between label and input */
        }
        input[type="text"],
        input[type="number"],
        input[type="date"],
        input[type="time"], 
        select { 
            padding: 12px; /* Increased padding */
            border: 1px solid #dfe1e5; /* Lighter border */
            border-radius: 6px; 
            width: 100%;
            font-size: 0.95em;
            transition: border-color 0.2s ease, box-shadow 0.2s ease;
            background-color: #fff; 
            appearance: none; /* Remove default system appearance for select for more control */
        }
        select {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='%23a0aec0'%3E%3Cpath fill-rule='evenodd' d='M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z' clip-rule='evenodd' /%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 0.75rem center;
            background-size: 1.25em 1.25em;
            padding-right: 2.5rem; /* Make space for custom arrow */
        }
        input[type="text"]:focus,
        input[type="number"]:focus,
        input[type="date"]:focus,
        input[type="time"]:focus,
        select:focus { 
            border-color: var(--blue);
            box-shadow: 0 0 0 3px rgba(0, 90, 156, 0.15); /* More subtle focus shadow */
            outline: none;
        }
        
        .checkbox-label { 
            flex-direction: row !important; 
            align-items: center !important;
            gap: 8px !important; 
            font-size: 0.9em !important; 
            font-weight: 500 !important;
            cursor: pointer !important;
            margin-bottom: 0 !important; 
            flex-grow: 0 !important; 
            flex-shrink: 0;
            white-space: nowrap; 
        }
        input[type="checkbox"] { 
            width: 1.1em; 
            height: 1.1em;
            margin-top: 0; 
            accent-color: var(--blue); 
            cursor: pointer;
        }

        .buttons {
            display: flex;
            gap: 15px; 
            margin-top: 25px;
            flex-wrap: nowrap;
            justify-content: flex-start;
            align-items: stretch;
        }
        .export-group { 
            display: flex;
            align-items: center;
            gap: 10px;
            flex-wrap: nowrap; 
            flex: 0 1 auto; 
        }
        button {
            flex: 0 1 auto;
            padding: 9px 16px;
            font-size: 0.95em;
            font-weight: 500;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            min-width: 120px;
            transition: background-color 0.2s ease, transform 0.1s ease; 
        }
        button:active {
            transform: scale(0.97); 
        }
        .add {
            background: var(--green);
            color: #fff;
        }
        .add:hover {
            background: #388E3C;
        }
        .reset {
            background: var(--grey);
            color: #fff;
        }
        .reset:hover {
            background: #424549;
        }
        .export {
            background: var(--blue); 
            color: #fff;
        }
        .export:hover {
            background: #004080;
        }
        .save, .load {
            background: var(--grey);
            color: #fff;
        }
        .save:hover, .load:hover {
            background: #424549;
        }
        .item {
            background: var(--light-grey); 
            padding: 20px; 
            margin-bottom: 20px;
            border-radius: 8px;
            position: relative;
            padding-top: 50px; 
            border: 1px solid #e2e8f0; /* Lighter item border */
        }
        .item-section-title {
            font-size: 0.85em;
            font-weight: 500;
            color: var(--grey);
            margin-top: 15px;
            margin-bottom: 5px;
            text-transform: none;
            border-bottom: 1px solid #ddd;
            padding-bottom: 3px;
        }
        .item-options-container { 
            display: flex; 
            flex-direction: column;
            gap: 10px;
            margin-top: 10px;
            padding: 10px;
            background-color: #e9ecef;
            border-radius: 6px;
        }
        .item-options-row {
            display: flex;
        }
        .item-options-row .field-group, .item-options-row .field-group-inline {
             flex: 1 1 calc(50% - 5px); 
            min-width: 130px;
        }
         .item-monitor-options {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            align-items: center; 
            margin-top: 10px;
        }
        .item-monitor-options .field-group {
            min-width: 120px; 
        }
        .item-equip-timing-options {
            display: none; 
            flex-wrap: wrap;
            gap: 10px; 
            margin-top: 10px;
            padding: 10px;
            background-color: #e0e0e0; 
            border-radius: 6px;
        }

        .remove {
            position: absolute;
            top: 15px; 
            right: 15px;
            background: var(--red);
            color: #fff;
            border: none;
            padding: 5px 8px; 
            border-radius: 4px; 
            cursor: pointer;
            z-index: 10;
            font-weight: bold;
            line-height: 1; 
            font-size: 0.9em; 
            transition: background-color 0.2s ease;
        }
        .remove:hover {
            background: #C62828;
        }
        .output {
            font-size: 0.95em; 
            margin-top: 15px;
            white-space: pre-line;
            background-color: #e0e7ff; 
            padding: 10px;
            border-radius: 6px;
            color: #343a40;
            border-left: 4px solid var(--blue); 
        }
        .summary {
            background: #e9ecef;
            padding: 20px;
            border-radius: 8px;
            font-weight: 500; 
            margin-top: 25px;
            font-size: 1em; 
            white-space: pre-line;
            border: 1px solid #d6d8db;
        }
        .summary p { 
            margin: 8px 0;
        }
        .summary span { 
            font-weight: bold;
            color: var(--dark-grey);
        }
        .summary .discount-line { 
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px dashed #ccc;
        }
         .summary .grand-total {
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px solid #bbb; 
            font-size: 0.95em; 
        }
        .summary .grand-total span {
            color: var(--dark-grey); /* Changed from var(--green) */
            font-size: 1.1em; 
        }
        small {
            font-size: 0.85em;
            color: #6c757d;
            margin-left: 8px;
            font-weight: normal;
        }

   @media (max-width: 768px) {
    .container {
        padding: 20px;
    }
    h1 {
        font-size: 1.8em;
    }
    .buttons { /* Adicionada a propriedade flex-wrap */
        flex-wrap: wrap;
    }
    .buttons button, .export-group { /* Esta regra existente agora funcionará como esperado para empilhar */
        flex: 1 1 100%;
    }
    .buttons .export-group { /* Modificado para incluir flex-wrap */
        justify-content: center;
        flex-wrap: wrap; /* Adicionado para permitir que o botão e o label dentro dele possam quebrar linha */
    }
    .export-group .checkbox-label { /* Modificado para incluir white-space */
        margin-top: 10px;
        white-space: normal; /* Adicionado para permitir que o texto do label quebre linha */
        /* Opcional: Se quiser que o label ocupe toda a largura abaixo do botão de exportar: */
        /* flex-basis: 100%; */
        /* text-align: center; */
    }
    .field-group,
    .item-options-row .field-group,
    .item-options-row .field-group-inline,
    .item-equip-timing-options .field-group-inline {
        flex-basis: 100% !important;
        min-width: unset !important;
    }
}

        /* START - PRINT STYLES */
        @media print { 
            html, body {
                font-size: 10pt; 
                -webkit-print-color-adjust: exact; 
                print-color-adjust: exact;
                margin: 0; 
                padding: 0;
                height: auto !important;
                overflow: visible !important;
            } 
            .export-container { 
                box-shadow: none; 
                border: none;
                width: 180mm;
                margin: 20mm auto; 
                padding: 10mm; 
                background-color: #fff !important; 
                max-width: none; 
                height: auto !important;
                overflow: visible !important;
                page-break-inside: avoid !important;
            }
            .equipment-catalog-section { 
                page-break-after: auto; 
                page-break-inside: avoid !important;
            } 
            .equipment-detail-item-wrapper {
                page-break-after: auto !important; 
                page-break-inside: avoid !important; 
                margin-bottom: 10mm; 
            }
            .equipment-detail-item-wrapper:last-of-type {
                page-break-after: auto; 
            }
            .equipment-detail-item {
                border-bottom: 1px dotted #eee; 
            }
            .equipment-detail-image-column img {
                max-width: 100%;
                max-height: 50mm;
            }
            .equipment-detail-info-column h2 {
                 font-size: 13pt;
            }
            .equipment-detail-info-column .description {
                font-size: 9pt;
            }
            .summary-table-wrapper { 
                page-break-before: auto !important; 
            }
            table { font-size: 8pt; }
            th, td { padding: 4px 6px; }
            .summary-section { font-size: 0.9em; page-break-inside: avoid !important; }
            .summary-section .grand-total-final { font-size: 0.95em; color: #333 !important; }
            .summary-section .grand-total-final strong { color: #333 !important; } 
            .no-print { display: none !important; } 
        }
        /* END - PRINT STYLES */

.autocomplete-suggestions {
    border: 1px solid #dfe1e5;
    border-top: none;
    max-height: 150px; /* Limit height and make scrollable */
    overflow-y: auto;
    position: absolute;
    background-color: #fff;
    z-index: 1000; /* Ensure it's on top */
    width: 100%; /* Will be adjusted by JS to match input if necessary */
    box-sizing: border-box;
    border-radius: 0 0 6px 6px;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
}

.suggestion-item {
    padding: 10px;
    cursor: pointer;
    font-size: 0.9em;
}

.suggestion-item:hover {
    background-color: #f0f0f0;
}

.suggestion-item strong { /* For highlighting matched part */
    font-weight: bold;
}

.payment-options-container {
    display: flex;
    flex-wrap: wrap; /* Allow wrapping on smaller screens */
    gap: 20px; /* Same gap as other .row elements */
    margin-bottom: 20px; /* Same margin as other .row elements */
    align-items: flex-start; /* Align the flex items (sections) to the top */
}

.payment-condition-section,
.payment-method-section {
    flex: 1 1 calc(50% - 10px); /* Each takes up half the space minus gap adjustment */
    min-width: 300px; /* Minimum width before wrapping */
    margin-bottom: 0; /* Remove individual bottom margin as container has it */
}

/* Adjustments for smaller screens if the above causes issues */
@media (max-width: 768px) { /* Or a suitable breakpoint */
    .payment-condition-section,
    .payment-method-section {
        flex-basis: 100%; /* Stack them on smaller screens */
        min-width: unset;
    }
}

/* Style for radio button labels to be inline */
.radio-label {
    display: flex !important; /* Override general label if necessary */
    flex-direction: row !important;
    align-items: center !important;
    gap: 8px !important; /* Similar to checkbox-label */
    font-size: 0.9em !important; /* Consistent font size */
    font-weight: normal !important; /* Radio labels are typically normal weight */
    margin-bottom: 5px !important; /* Spacing between radio options */
    cursor: pointer !important;
}

/* Ensure radio inputs themselves don't cause layout shifts if they have margin/padding */
.radio-label input[type="radio"] {
    margin-top: 0 !important; /* Align with text */
    accent-color: var(--blue);
    cursor: pointer;
}

.section-hidden {
    display: none !important;
}

